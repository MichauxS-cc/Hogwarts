{"ast":null,"code":"var _jsxFileName = \"/Users/michauxsun/Desktop/CPSC455-A234/my-hogwarts-app/src/components/DiagonAlley.js\",\n  _s = $RefreshSig$();\n// addToCauldron() and removeFromCauldron() logic were borrow from https://www.youtube.com/watch?v=AmIdY1Eb8tY\n\nimport React, { useEffect, useRef } from \"react\";\nimport \"../css/DiagonAlley.css\";\nimport EquipList from \"./EquipList.js\";\nimport { useDispatch } from \"react-redux\";\nimport { setEquipmentList } from \"../actions\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction DiagonAlley() {\n  _s();\n  // const equipmentList = useSelector((state) => state.equipmentList);\n  const dispatch = useDispatch();\n  const equipmentDataURL = \"/db/equipment\";\n  const yearSelect = useRef();\n  const catSelect = useRef();\n  useEffect(() => {\n    async function getEquipmentData() {\n      const response = await axios.get(equipmentDataURL).catch(err => console.log(\"Error *** first load: \", err));\n      if (response !== null && response !== void 0 && response.data) {\n        dispatch(setEquipmentList(response.data));\n      }\n    }\n    getEquipmentData();\n  }, [dispatch]);\n  function getProducts() {\n    let year = yearSelect.current.value;\n    let cat = catSelect.current.value;\n    const sortByYearAndCat = async () => {\n      const response = await axios.get(equipmentDataURL + \"/sortByYear/\" + year + \"/filterCat/\" + cat);\n      if (response !== null && response !== void 0 && response.data) {\n        dispatch(setEquipmentList(response.data));\n      }\n    };\n    sortByYearAndCat();\n  }\n  function sortByPriceHL() {\n    let year = yearSelect.current.value;\n    let cat = catSelect.current.value;\n    const sortHtoL = async () => {\n      const response = await axios.get(equipmentDataURL + \"/year/\" + year + \"/cat/\" + cat + \"/sortHtoL\");\n      if (response !== null && response !== void 0 && response.data) {\n        dispatch(setEquipmentList(response.data));\n      }\n    };\n    sortHtoL();\n  }\n  function sortByPriceLH() {\n    let year = yearSelect.current.value;\n    let cat = catSelect.current.value;\n    const sortLtoH = async () => {\n      const response = await axios.get(equipmentDataURL + \"/year/\" + year + \"/cat/\" + cat + \"/sortLtoH\");\n      if (response !== null && response !== void 0 && response.data) {\n        dispatch(setEquipmentList(response.data));\n      }\n    };\n    sortLtoH();\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"select\", {\n      id: \"yearSelect\",\n      ref: yearSelect,\n      onChange: getProducts,\n      children: [/*#__PURE__*/_jsxDEV(\"option\", {\n        value: \"0\",\n        children: \"All year \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n        value: \"1\",\n        children: \"1st year\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n        value: \"2\",\n        children: \"2nd year\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n        value: \"3\",\n        children: \"3rd year\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n        value: \"4\",\n        children: \"4th year\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n      id: \"catSelect\",\n      ref: catSelect,\n      onChange: getProducts,\n      children: [/*#__PURE__*/_jsxDEV(\"option\", {\n        value: \"all\",\n        children: \"All categories \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n        value: \"book\",\n        children: \"Book \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n        value: \"gear\",\n        children: \"Gear\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n        value: \"powder\",\n        children: \"Powder\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n        value: \"uncategorised\",\n        children: \"Uncategorised\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => sortByPriceHL(),\n      className: \"btn \",\n      type: \"button\",\n      children: [\" \", \"Price High to Low\", \" \"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => sortByPriceLH(),\n      className: \"btn \",\n      type: \"button\",\n      children: [\" \", \"Price Low to High\", \" \"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(EquipList, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 81,\n    columnNumber: 5\n  }, this);\n}\n_s(DiagonAlley, \"WxDoNkKpTceNlggPEejyl0mSHeM=\", false, function () {\n  return [useDispatch];\n});\n_c = DiagonAlley;\nexport default DiagonAlley;\nvar _c;\n$RefreshReg$(_c, \"DiagonAlley\");","map":{"version":3,"names":["React","useEffect","useRef","EquipList","useDispatch","setEquipmentList","axios","jsxDEV","_jsxDEV","DiagonAlley","_s","dispatch","equipmentDataURL","yearSelect","catSelect","getEquipmentData","response","get","catch","err","console","log","data","getProducts","year","current","value","cat","sortByYearAndCat","sortByPriceHL","sortHtoL","sortByPriceLH","sortLtoH","children","id","ref","onChange","fileName","_jsxFileName","lineNumber","columnNumber","onClick","className","type","_c","$RefreshReg$"],"sources":["/Users/michauxsun/Desktop/CPSC455-A234/my-hogwarts-app/src/components/DiagonAlley.js"],"sourcesContent":["// addToCauldron() and removeFromCauldron() logic were borrow from https://www.youtube.com/watch?v=AmIdY1Eb8tY\n\nimport React, { useEffect, useRef } from \"react\";\nimport \"../css/DiagonAlley.css\";\nimport EquipList from \"./EquipList.js\";\n\nimport { useDispatch } from \"react-redux\";\nimport { setEquipmentList } from \"../actions\";\n\nimport axios from \"axios\";\n\nfunction DiagonAlley() {\n  // const equipmentList = useSelector((state) => state.equipmentList);\n  const dispatch = useDispatch();\n  const equipmentDataURL = \"/db/equipment\";\n  const yearSelect = useRef();\n  const catSelect = useRef();\n\n  useEffect(() => {\n    async function getEquipmentData() {\n      const response = await axios\n        .get(equipmentDataURL)\n        .catch((err) => console.log(\"Error *** first load: \", err));\n\n      if (response?.data) {\n        dispatch(setEquipmentList(response.data));\n      }\n    }\n    getEquipmentData();\n  }, [dispatch]);\n\n  function getProducts() {\n    let year = yearSelect.current.value;\n    let cat = catSelect.current.value;\n\n    const sortByYearAndCat = async () => {\n      const response = await axios.get(\n        equipmentDataURL + \"/sortByYear/\" + year + \"/filterCat/\" + cat\n      );\n\n      if (response?.data) {\n        dispatch(setEquipmentList(response.data));\n      }\n    };\n    sortByYearAndCat();\n  }\n\n  function sortByPriceHL() {\n    let year = yearSelect.current.value;\n    let cat = catSelect.current.value;\n\n    const sortHtoL = async () => {\n      const response = await axios.get(\n        equipmentDataURL + \"/year/\" + year + \"/cat/\" + cat + \"/sortHtoL\"\n      );\n\n      if (response?.data) {\n        dispatch(setEquipmentList(response.data));\n      }\n    };\n    sortHtoL();\n  }\n\n  function sortByPriceLH() {\n    let year = yearSelect.current.value;\n    let cat = catSelect.current.value;\n\n    const sortLtoH = async () => {\n      const response = await axios.get(\n        equipmentDataURL + \"/year/\" + year + \"/cat/\" + cat + \"/sortLtoH\"\n      );\n\n      if (response?.data) {\n        dispatch(setEquipmentList(response.data));\n      }\n    };\n    sortLtoH();\n  }\n\n  return (\n    <div>\n      <select id=\"yearSelect\" ref={yearSelect} onChange={getProducts}>\n        <option value=\"0\">All year </option>\n        <option value=\"1\">1st year</option>\n        <option value=\"2\">2nd year</option>\n        <option value=\"3\">3rd year</option>\n        <option value=\"4\">4th year</option>\n      </select>\n\n      <select id=\"catSelect\" ref={catSelect} onChange={getProducts}>\n        <option value=\"all\">All categories </option>\n        <option value=\"book\">Book </option>\n        <option value=\"gear\">Gear</option>\n        <option value=\"powder\">Powder</option>\n        <option value=\"uncategorised\">Uncategorised</option>\n      </select>\n\n      <button onClick={() => sortByPriceHL()} className=\"btn \" type=\"button\">\n        {\" \"}\n        Price High to Low{\" \"}\n      </button>\n      <button onClick={() => sortByPriceLH()} className=\"btn \" type=\"button\">\n        {\" \"}\n        Price Low to High{\" \"}\n      </button>\n\n      <EquipList />\n    </div>\n  );\n}\n\nexport default DiagonAlley;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}