{"ast":null,"code":"import _toConsumableArray from\"/Users/michauxsun/CPSC455/CPSC455-A234/my-hogwarts-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _objectSpread from\"/Users/michauxsun/CPSC455/CPSC455-A234/my-hogwarts-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";var ShoppingCartReducer=function ShoppingCartReducer(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];var action=arguments.length>1?arguments[1]:undefined;var equip;var exist;switch(action.type){case\"ADD_TO_CART\":equip=action.payload;exist=state.find(function(x){return x.name===equip.name;});//loop through state, only update the x that x => x.name === equip.name, return the not matching item otherwise\nif(exist)return state.map(function(x){return x.name===equip.name?_objectSpread(_objectSpread({},exist),{},{qty:exist.qty+1}):x;});return[].concat(_toConsumableArray(state),[_objectSpread(_objectSpread({},equip),{},{qty:1})]);case\"REMOVE_FROM_CART\":equip=action.payload;exist=state.find(function(x){return x.name===equip.name;});if(exist.qty===1)return _toConsumableArray(state).filter(function(x){return x.name!==equip.name;});return state.map(function(x){return x.name===equip.name?_objectSpread(_objectSpread({},exist),{},{qty:exist.qty-1}):x;});case\"RESET_CART\":state=[];return state;default:return state;}};export default ShoppingCartReducer;","map":{"version":3,"sources":["/Users/michauxsun/CPSC455/CPSC455-A234/my-hogwarts-app/src/reducers/ShoppingCartReducer.js"],"names":["ShoppingCartReducer","state","action","equip","exist","type","payload","find","x","name","map","qty","filter"],"mappings":"iWAAA,GAAMA,CAAAA,mBAAmB,CAAG,QAAtBA,CAAAA,mBAAsB,EAAwB,IAAvBC,CAAAA,KAAuB,2DAAf,EAAe,IAAXC,CAAAA,MAAW,2CAClD,GAAIC,CAAAA,KAAJ,CACA,GAAIC,CAAAA,KAAJ,CACA,OAAQF,MAAM,CAACG,IAAf,EACE,IAAK,aAAL,CACEF,KAAK,CAAGD,MAAM,CAACI,OAAf,CACAF,KAAK,CAAGH,KAAK,CAACM,IAAN,CAAW,SAACC,CAAD,QAAOA,CAAAA,CAAC,CAACC,IAAF,GAAWN,KAAK,CAACM,IAAxB,EAAX,CAAR,CACA;AACA,GAAIL,KAAJ,CACE,MAAOH,CAAAA,KAAK,CAACS,GAAN,CAAU,SAACF,CAAD,QACfA,CAAAA,CAAC,CAACC,IAAF,GAAWN,KAAK,CAACM,IAAjB,gCAA6BL,KAA7B,MAAoCO,GAAG,CAAEP,KAAK,CAACO,GAAN,CAAY,CAArD,GAA2DH,CAD5C,EAAV,CAAP,CAGF,mCAAWP,KAAX,kCAAuBE,KAAvB,MAA8BQ,GAAG,CAAE,CAAnC,KACF,IAAK,kBAAL,CACER,KAAK,CAAGD,MAAM,CAACI,OAAf,CACAF,KAAK,CAAGH,KAAK,CAACM,IAAN,CAAW,SAACC,CAAD,QAAOA,CAAAA,CAAC,CAACC,IAAF,GAAWN,KAAK,CAACM,IAAxB,EAAX,CAAR,CACA,GAAIL,KAAK,CAACO,GAAN,GAAc,CAAlB,CACE,MAAO,oBAAIV,KAAJ,EAAWW,MAAX,CAAkB,SAACJ,CAAD,QAAOA,CAAAA,CAAC,CAACC,IAAF,GAAWN,KAAK,CAACM,IAAxB,EAAlB,CAAP,CACF,MAAOR,CAAAA,KAAK,CAACS,GAAN,CAAU,SAACF,CAAD,QACfA,CAAAA,CAAC,CAACC,IAAF,GAAWN,KAAK,CAACM,IAAjB,gCAA6BL,KAA7B,MAAoCO,GAAG,CAAEP,KAAK,CAACO,GAAN,CAAY,CAArD,GAA2DH,CAD5C,EAAV,CAAP,CAGF,IAAK,YAAL,CACEP,KAAK,CAAG,EAAR,CACA,MAAOA,CAAAA,KAAP,CACF,QACE,MAAOA,CAAAA,KAAP,CAtBJ,CAwBD,CA3BD,CA6BA,cAAeD,CAAAA,mBAAf","sourcesContent":["const ShoppingCartReducer = (state = [], action) => {\n  let equip;\n  let exist;\n  switch (action.type) {\n    case \"ADD_TO_CART\":\n      equip = action.payload;\n      exist = state.find((x) => x.name === equip.name);\n      //loop through state, only update the x that x => x.name === equip.name, return the not matching item otherwise\n      if (exist)\n        return state.map((x) =>\n          x.name === equip.name ? { ...exist, qty: exist.qty + 1 } : x\n        );\n      return [...state, { ...equip, qty: 1 }];\n    case \"REMOVE_FROM_CART\":\n      equip = action.payload;\n      exist = state.find((x) => x.name === equip.name);\n      if (exist.qty === 1)\n        return [...state].filter((x) => x.name !== equip.name);\n      return state.map((x) =>\n        x.name === equip.name ? { ...exist, qty: exist.qty - 1 } : x\n      );\n    case \"RESET_CART\":\n      state = [];\n      return state;\n    default:\n      return state;\n  }\n};\n\nexport default ShoppingCartReducer;\n"]},"metadata":{},"sourceType":"module"}