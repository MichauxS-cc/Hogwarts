{"ast":null,"code":"const ShoppingCartReducer=function(){let state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];let action=arguments.length>1?arguments[1]:undefined;let equip;let exist;switch(action.type){case\"ADD_TO_CART\":equip=action.payload;exist=state.find(x=>x.name===equip.name);//loop through state, only update the x that x => x.name === equip.name, return the not matching item otherwise\nif(exist)return state.map(x=>x.name===equip.name?{...exist,qty:exist.qty+1}:x);return[...state,{...equip,qty:1}];case\"REMOVE_FROM_CART\":equip=action.payload;exist=state.find(x=>x.name===equip.name);if(exist.qty===1)return[...state].filter(x=>x.name!==equip.name);return state.map(x=>x.name===equip.name?{...exist,qty:exist.qty-1}:x);case\"RESET_CART\":state=[];return state;default:return state;}};export default ShoppingCartReducer;","map":{"version":3,"names":["ShoppingCartReducer","state","arguments","length","undefined","action","equip","exist","type","payload","find","x","name","map","qty","filter"],"sources":["/Users/michauxsun/Desktop/CPSC455-A234/my-hogwarts-app/src/reducers/ShoppingCartReducer.js"],"sourcesContent":["const ShoppingCartReducer = (state = [], action) => {\n  let equip;\n  let exist;\n  switch (action.type) {\n    case \"ADD_TO_CART\":\n      equip = action.payload;\n      exist = state.find((x) => x.name === equip.name);\n      //loop through state, only update the x that x => x.name === equip.name, return the not matching item otherwise\n      if (exist)\n        return state.map((x) =>\n          x.name === equip.name ? { ...exist, qty: exist.qty + 1 } : x\n        );\n      return [...state, { ...equip, qty: 1 }];\n    case \"REMOVE_FROM_CART\":\n      equip = action.payload;\n      exist = state.find((x) => x.name === equip.name);\n      if (exist.qty === 1)\n        return [...state].filter((x) => x.name !== equip.name);\n      return state.map((x) =>\n        x.name === equip.name ? { ...exist, qty: exist.qty - 1 } : x\n      );\n    case \"RESET_CART\":\n      state = [];\n      return state;\n    default:\n      return state;\n  }\n};\n\nexport default ShoppingCartReducer;\n"],"mappings":"AAAA,KAAM,CAAAA,mBAAmB,CAAG,QAAAA,CAAA,CAAwB,IAAvB,CAAAC,KAAK,CAAAC,SAAA,CAAAC,MAAA,IAAAD,SAAA,MAAAE,SAAA,CAAAF,SAAA,IAAG,EAAE,IAAE,CAAAG,MAAM,CAAAH,SAAA,CAAAC,MAAA,GAAAD,SAAA,IAAAE,SAAA,CAC7C,GAAI,CAAAE,KAAK,CACT,GAAI,CAAAC,KAAK,CACT,OAAQF,MAAM,CAACG,IAAI,EACjB,IAAK,aAAa,CAChBF,KAAK,CAAGD,MAAM,CAACI,OAAO,CACtBF,KAAK,CAAGN,KAAK,CAACS,IAAI,CAAEC,CAAC,EAAKA,CAAC,CAACC,IAAI,GAAKN,KAAK,CAACM,IAAI,CAAC,CAChD;AACA,GAAIL,KAAK,CACP,MAAO,CAAAN,KAAK,CAACY,GAAG,CAAEF,CAAC,EACjBA,CAAC,CAACC,IAAI,GAAKN,KAAK,CAACM,IAAI,CAAG,CAAE,GAAGL,KAAK,CAAEO,GAAG,CAAEP,KAAK,CAACO,GAAG,CAAG,CAAE,CAAC,CAAGH,CAC7D,CAAC,CACH,MAAO,CAAC,GAAGV,KAAK,CAAE,CAAE,GAAGK,KAAK,CAAEQ,GAAG,CAAE,CAAE,CAAC,CAAC,CACzC,IAAK,kBAAkB,CACrBR,KAAK,CAAGD,MAAM,CAACI,OAAO,CACtBF,KAAK,CAAGN,KAAK,CAACS,IAAI,CAAEC,CAAC,EAAKA,CAAC,CAACC,IAAI,GAAKN,KAAK,CAACM,IAAI,CAAC,CAChD,GAAIL,KAAK,CAACO,GAAG,GAAK,CAAC,CACjB,MAAO,CAAC,GAAGb,KAAK,CAAC,CAACc,MAAM,CAAEJ,CAAC,EAAKA,CAAC,CAACC,IAAI,GAAKN,KAAK,CAACM,IAAI,CAAC,CACxD,MAAO,CAAAX,KAAK,CAACY,GAAG,CAAEF,CAAC,EACjBA,CAAC,CAACC,IAAI,GAAKN,KAAK,CAACM,IAAI,CAAG,CAAE,GAAGL,KAAK,CAAEO,GAAG,CAAEP,KAAK,CAACO,GAAG,CAAG,CAAE,CAAC,CAAGH,CAC7D,CAAC,CACH,IAAK,YAAY,CACfV,KAAK,CAAG,EAAE,CACV,MAAO,CAAAA,KAAK,CACd,QACE,MAAO,CAAAA,KAAK,CAChB,CACF,CAAC,CAED,cAAe,CAAAD,mBAAmB"},"metadata":{},"sourceType":"module","externalDependencies":[]}