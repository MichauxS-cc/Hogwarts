{"ast":null,"code":"import _regeneratorRuntime from\"/Users/michauxsun/CPSC455/CPSC455-A234/my_hogwarts_app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/michauxsun/CPSC455/CPSC455-A234/my_hogwarts_app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import\"../css/Buddy.css\";import{useDispatch,useSelector}from\"react-redux\";import{setModal,setBuddyList}from\"../actions\";import axios from\"axios\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Buddy(props){var buddyListURL=\"/db/buddy\";var dispatch=useDispatch();var buddyList=useSelector(function(state){return state.buddyList;});function removeBuddy(_x){return _removeBuddy.apply(this,arguments);}function _removeBuddy(){_removeBuddy=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(buddyId){var response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.delete(buddyListURL+\"/deleteById/\",{params:{_id:buddyId}});case 2:response=_context.sent;if(response&&response.data)dispatch(setBuddyList(response.data));case 4:case\"end\":return _context.stop();}}},_callee);}));return _removeBuddy.apply(this,arguments);}return/*#__PURE__*/_jsxs(\"div\",{className:\"buddy-container\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return removeBuddy(props._id);},className:\"remove-btn\",children:\"+\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"buddy-wrapper\",onClick:function onClick(){return dispatch(setModal({name:props.name,imgURL:props.imgURL,description:props.description,_id:props._id}));},children:[/*#__PURE__*/_jsx(\"img\",{className:\"buddy-img\",src:props.imgURL,alt:props.name}),/*#__PURE__*/_jsx(\"div\",{className:\"buddy-name\",children:props.name})]})]});}export default Buddy;","map":{"version":3,"sources":["/Users/michauxsun/CPSC455/CPSC455-A234/my_hogwarts_app/src/components/Buddy.js"],"names":["useDispatch","useSelector","setModal","setBuddyList","axios","Buddy","props","buddyListURL","dispatch","buddyList","state","removeBuddy","buddyId","delete","params","_id","response","data","name","imgURL","description"],"mappings":"uVAAA,MAAO,kBAAP,CACA,OAASA,WAAT,CAAsBC,WAAtB,KAAyC,aAAzC,CACA,OAASC,QAAT,CAAmBC,YAAnB,KAAuC,YAAvC,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,C,wFAEA,QAASC,CAAAA,KAAT,CAAeC,KAAf,CAAsB,CACpB,GAAMC,CAAAA,YAAY,CAAG,WAArB,CAEA,GAAMC,CAAAA,QAAQ,CAAGR,WAAW,EAA5B,CACA,GAAMS,CAAAA,SAAS,CAAGR,WAAW,CAAC,SAACS,KAAD,QAAWA,CAAAA,KAAK,CAACD,SAAjB,EAAD,CAA7B,CAJoB,QAMLE,CAAAA,WANK,6IAMpB,iBAA2BC,OAA3B,qJACyBR,CAAAA,KAAK,CAACS,MAAN,CAAaN,YAAY,CAAG,cAA5B,CAA4C,CACjEO,MAAM,CAAE,CAAEC,GAAG,CAAEH,OAAP,CADyD,CAA5C,CADzB,QACQI,QADR,eAIE,GAAIA,QAAQ,EAAIA,QAAQ,CAACC,IAAzB,CAA+BT,QAAQ,CAACL,YAAY,CAACa,QAAQ,CAACC,IAAV,CAAb,CAAR,CAJjC,sDANoB,8CAYpB,mBACE,aAAK,SAAS,CAAC,iBAAf,wBACE,eAAQ,OAAO,CAAE,yBAAMN,CAAAA,WAAW,CAACL,KAAK,CAACS,GAAP,CAAjB,EAAjB,CAA+C,SAAS,CAAC,YAAzD,eADF,cAIE,aACE,SAAS,CAAC,eADZ,CAEE,OAAO,CAAE,yBACPP,CAAAA,QAAQ,CACNN,QAAQ,CAAC,CACPgB,IAAI,CAAEZ,KAAK,CAACY,IADL,CAEPC,MAAM,CAAEb,KAAK,CAACa,MAFP,CAGPC,WAAW,CAAEd,KAAK,CAACc,WAHZ,CAIPL,GAAG,CAAET,KAAK,CAACS,GAJJ,CAAD,CADF,CADD,EAFX,wBAaE,YAAK,SAAS,CAAC,WAAf,CAA2B,GAAG,CAAET,KAAK,CAACa,MAAtC,CAA8C,GAAG,CAAEb,KAAK,CAACY,IAAzD,EAbF,cAcE,YAAK,SAAS,CAAC,YAAf,UAA6BZ,KAAK,CAACY,IAAnC,EAdF,GAJF,GADF,CAuBD,CAED,cAAeb,CAAAA,KAAf","sourcesContent":["import \"../css/Buddy.css\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { setModal, setBuddyList } from \"../actions\";\nimport axios from \"axios\";\n\nfunction Buddy(props) {\n  const buddyListURL = \"/db/buddy\";\n\n  const dispatch = useDispatch();\n  const buddyList = useSelector((state) => state.buddyList);\n\n  async function removeBuddy(buddyId) {\n    const response = await axios.delete(buddyListURL + \"/deleteById/\", {\n      params: { _id: buddyId },\n    });\n    if (response && response.data) dispatch(setBuddyList(response.data));\n  }\n  return (\n    <div className=\"buddy-container\">\n      <button onClick={() => removeBuddy(props._id)} className=\"remove-btn\">\n        +\n      </button>\n      <div\n        className=\"buddy-wrapper\"\n        onClick={() =>\n          dispatch(\n            setModal({\n              name: props.name,\n              imgURL: props.imgURL,\n              description: props.description,\n              _id: props._id,\n            })\n          )\n        }\n      >\n        <img className=\"buddy-img\" src={props.imgURL} alt={props.name} />\n        <div className=\"buddy-name\">{props.name}</div>\n      </div>\n    </div>\n  );\n}\n\nexport default Buddy;\n"]},"metadata":{},"sourceType":"module"}