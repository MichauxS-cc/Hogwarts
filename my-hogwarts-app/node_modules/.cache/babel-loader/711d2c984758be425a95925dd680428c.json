{"ast":null,"code":"const ShoppingCartReducer = (state = [], action) => {\n  const equip = action.payload;\n  console.log(\"%c [ equip ]\", \"font-size:13px; background:pink; color:#bf2c9f;\", equip.cat);\n  const exist = state.find(x => x.name === equip.name);\n\n  switch (action.type) {\n    case \"ADD_TO_CART\":\n      //loop through state, only update the x that x => x.name === equip.name, return the not matching item otherwise\n      if (exist) return state.map(x => x.name === equip.name ? { ...exist,\n        qty: exist.qty + 1\n      } : x);\n      return [...state, { ...equip,\n        qty: 1\n      }];\n\n    case \"REMOVE_FROM_CART\":\n      if (exist.qty === 1) return [...state].filter(x => x.name !== equip.name);\n      return state.map(x => x.name === equip.name ? { ...exist,\n        qty: exist.qty - 1\n      } : x);\n\n    case \"RESET_CART\":\n      state = [];\n      return state;\n\n    default:\n      console.log(\"%c [ state ]\", \"font-size:13px; background:pink; color:#bf2c9f;\", state);\n      return state;\n  }\n};\n\n_c = ShoppingCartReducer;\nexport default ShoppingCartReducer;\n\nvar _c;\n\n$RefreshReg$(_c, \"ShoppingCartReducer\");","map":{"version":3,"sources":["/Users/michauxsun/CPSC455/CPSC455-A234/my_hogwarts_app/src/reducers/ShoppingCartReducer.js"],"names":["ShoppingCartReducer","state","action","equip","payload","console","log","cat","exist","find","x","name","type","map","qty","filter"],"mappings":"AAAA,MAAMA,mBAAmB,GAAG,CAACC,KAAK,GAAG,EAAT,EAAaC,MAAb,KAAwB;AAClD,QAAMC,KAAK,GAAGD,MAAM,CAACE,OAArB;AACAC,EAAAA,OAAO,CAACC,GAAR,CACE,cADF,EAEE,iDAFF,EAGEH,KAAK,CAACI,GAHR;AAKA,QAAMC,KAAK,GAAGP,KAAK,CAACQ,IAAN,CAAYC,CAAD,IAAOA,CAAC,CAACC,IAAF,KAAWR,KAAK,CAACQ,IAAnC,CAAd;;AACA,UAAQT,MAAM,CAACU,IAAf;AACE,SAAK,aAAL;AACE;AACA,UAAIJ,KAAJ,EACE,OAAOP,KAAK,CAACY,GAAN,CAAWH,CAAD,IACfA,CAAC,CAACC,IAAF,KAAWR,KAAK,CAACQ,IAAjB,GAAwB,EAAE,GAAGH,KAAL;AAAYM,QAAAA,GAAG,EAAEN,KAAK,CAACM,GAAN,GAAY;AAA7B,OAAxB,GAA2DJ,CADtD,CAAP;AAGF,aAAO,CAAC,GAAGT,KAAJ,EAAW,EAAE,GAAGE,KAAL;AAAYW,QAAAA,GAAG,EAAE;AAAjB,OAAX,CAAP;;AACF,SAAK,kBAAL;AACE,UAAIN,KAAK,CAACM,GAAN,KAAc,CAAlB,EACE,OAAO,CAAC,GAAGb,KAAJ,EAAWc,MAAX,CAAmBL,CAAD,IAAOA,CAAC,CAACC,IAAF,KAAWR,KAAK,CAACQ,IAA1C,CAAP;AACF,aAAOV,KAAK,CAACY,GAAN,CAAWH,CAAD,IACfA,CAAC,CAACC,IAAF,KAAWR,KAAK,CAACQ,IAAjB,GAAwB,EAAE,GAAGH,KAAL;AAAYM,QAAAA,GAAG,EAAEN,KAAK,CAACM,GAAN,GAAY;AAA7B,OAAxB,GAA2DJ,CADtD,CAAP;;AAGF,SAAK,YAAL;AACET,MAAAA,KAAK,GAAG,EAAR;AACA,aAAOA,KAAP;;AACF;AACEI,MAAAA,OAAO,CAACC,GAAR,CACE,cADF,EAEE,iDAFF,EAGEL,KAHF;AAKA,aAAOA,KAAP;AAvBJ;AAyBD,CAjCD;;KAAMD,mB;AAmCN,eAAeA,mBAAf","sourcesContent":["const ShoppingCartReducer = (state = [], action) => {\n  const equip = action.payload;\n  console.log(\n    \"%c [ equip ]\",\n    \"font-size:13px; background:pink; color:#bf2c9f;\",\n    equip.cat\n  );\n  const exist = state.find((x) => x.name === equip.name);\n  switch (action.type) {\n    case \"ADD_TO_CART\":\n      //loop through state, only update the x that x => x.name === equip.name, return the not matching item otherwise\n      if (exist)\n        return state.map((x) =>\n          x.name === equip.name ? { ...exist, qty: exist.qty + 1 } : x\n        );\n      return [...state, { ...equip, qty: 1 }];\n    case \"REMOVE_FROM_CART\":\n      if (exist.qty === 1)\n        return [...state].filter((x) => x.name !== equip.name);\n      return state.map((x) =>\n        x.name === equip.name ? { ...exist, qty: exist.qty - 1 } : x\n      );\n    case \"RESET_CART\":\n      state = [];\n      return state;\n    default:\n      console.log(\n        \"%c [ state ]\",\n        \"font-size:13px; background:pink; color:#bf2c9f;\",\n        state\n      );\n      return state;\n  }\n};\n\nexport default ShoppingCartReducer;\n"]},"metadata":{},"sourceType":"module"}