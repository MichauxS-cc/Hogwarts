{"ast":null,"code":"// addToCauldron() and removeFromCauldron() logic were borrow from https://www.youtube.com/watch?v=AmIdY1Eb8tY\nimport React,{useEffect,useRef}from\"react\";import\"../css/DiagonAlley.css\";import EquipList from\"./EquipList.js\";import{useDispatch}from\"react-redux\";import{setEquipmentList}from\"../actions\";import axios from\"axios\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function DiagonAlley(){// const equipmentList = useSelector((state) => state.equipmentList);\nconst dispatch=useDispatch();const equipmentDataURL=\"/db/equipment\";const yearSelect=useRef();const catSelect=useRef();useEffect(()=>{async function getEquipmentData(){const response=await axios.get(equipmentDataURL).catch(err=>console.log(\"Error *** first load: \",err));if(response!==null&&response!==void 0&&response.data){dispatch(setEquipmentList(response.data));}}getEquipmentData();},[dispatch]);function getProducts(){let year=yearSelect.current.value;let cat=catSelect.current.value;const sortByYearAndCat=async()=>{const response=await axios.get(equipmentDataURL+\"/sortByYear/\"+year+\"/filterCat/\"+cat);if(response!==null&&response!==void 0&&response.data){dispatch(setEquipmentList(response.data));}};sortByYearAndCat();}function sortByPriceHL(){let year=yearSelect.current.value;let cat=catSelect.current.value;const sortHtoL=async()=>{const response=await axios.get(equipmentDataURL+\"/year/\"+year+\"/cat/\"+cat+\"/sortHtoL\");if(response!==null&&response!==void 0&&response.data){dispatch(setEquipmentList(response.data));}};sortHtoL();}function sortByPriceLH(){let year=yearSelect.current.value;let cat=catSelect.current.value;const sortLtoH=async()=>{const response=await axios.get(equipmentDataURL+\"/year/\"+year+\"/cat/\"+cat+\"/sortLtoH\");if(response!==null&&response!==void 0&&response.data){dispatch(setEquipmentList(response.data));}};sortLtoH();}return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"select\",{id:\"yearSelect\",ref:yearSelect,onChange:getProducts,children:[/*#__PURE__*/_jsx(\"option\",{value:\"0\",children:\"All year \"}),/*#__PURE__*/_jsx(\"option\",{value:\"1\",children:\"1st year\"}),/*#__PURE__*/_jsx(\"option\",{value:\"2\",children:\"2nd year\"}),/*#__PURE__*/_jsx(\"option\",{value:\"3\",children:\"3rd year\"}),/*#__PURE__*/_jsx(\"option\",{value:\"4\",children:\"4th year\"})]}),/*#__PURE__*/_jsxs(\"select\",{id:\"catSelect\",ref:catSelect,onChange:getProducts,children:[/*#__PURE__*/_jsx(\"option\",{value:\"all\",children:\"All categories \"}),/*#__PURE__*/_jsx(\"option\",{value:\"book\",children:\"Book \"}),/*#__PURE__*/_jsx(\"option\",{value:\"gear\",children:\"Gear\"}),/*#__PURE__*/_jsx(\"option\",{value:\"powder\",children:\"Powder\"}),/*#__PURE__*/_jsx(\"option\",{value:\"uncategorised\",children:\"Uncategorised\"})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>sortByPriceHL(),className:\"btn \",type:\"button\",children:[\" \",\"Price High to Low\",\" \"]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>sortByPriceLH(),className:\"btn \",type:\"button\",children:[\" \",\"Price Low to High\",\" \"]}),/*#__PURE__*/_jsx(EquipList,{})]});}export default DiagonAlley;","map":{"version":3,"names":["React","useEffect","useRef","EquipList","useDispatch","setEquipmentList","axios","jsx","_jsx","jsxs","_jsxs","DiagonAlley","dispatch","equipmentDataURL","yearSelect","catSelect","getEquipmentData","response","get","catch","err","console","log","data","getProducts","year","current","value","cat","sortByYearAndCat","sortByPriceHL","sortHtoL","sortByPriceLH","sortLtoH","children","id","ref","onChange","onClick","className","type"],"sources":["/Users/michauxsun/Desktop/CPSC455-A234/my-hogwarts-app/src/components/DiagonAlley.js"],"sourcesContent":["// addToCauldron() and removeFromCauldron() logic were borrow from https://www.youtube.com/watch?v=AmIdY1Eb8tY\n\nimport React, { useEffect, useRef } from \"react\";\nimport \"../css/DiagonAlley.css\";\nimport EquipList from \"./EquipList.js\";\n\nimport { useDispatch } from \"react-redux\";\nimport { setEquipmentList } from \"../actions\";\n\nimport axios from \"axios\";\n\nfunction DiagonAlley() {\n  // const equipmentList = useSelector((state) => state.equipmentList);\n  const dispatch = useDispatch();\n  const equipmentDataURL = \"/db/equipment\";\n  const yearSelect = useRef();\n  const catSelect = useRef();\n\n  useEffect(() => {\n    async function getEquipmentData() {\n      const response = await axios\n        .get(equipmentDataURL)\n        .catch((err) => console.log(\"Error *** first load: \", err));\n\n      if (response?.data) {\n        dispatch(setEquipmentList(response.data));\n      }\n    }\n    getEquipmentData();\n  }, [dispatch]);\n\n  function getProducts() {\n    let year = yearSelect.current.value;\n    let cat = catSelect.current.value;\n\n    const sortByYearAndCat = async () => {\n      const response = await axios.get(\n        equipmentDataURL + \"/sortByYear/\" + year + \"/filterCat/\" + cat\n      );\n\n      if (response?.data) {\n        dispatch(setEquipmentList(response.data));\n      }\n    };\n    sortByYearAndCat();\n  }\n\n  function sortByPriceHL() {\n    let year = yearSelect.current.value;\n    let cat = catSelect.current.value;\n\n    const sortHtoL = async () => {\n      const response = await axios.get(\n        equipmentDataURL + \"/year/\" + year + \"/cat/\" + cat + \"/sortHtoL\"\n      );\n\n      if (response?.data) {\n        dispatch(setEquipmentList(response.data));\n      }\n    };\n    sortHtoL();\n  }\n\n  function sortByPriceLH() {\n    let year = yearSelect.current.value;\n    let cat = catSelect.current.value;\n\n    const sortLtoH = async () => {\n      const response = await axios.get(\n        equipmentDataURL + \"/year/\" + year + \"/cat/\" + cat + \"/sortLtoH\"\n      );\n\n      if (response?.data) {\n        dispatch(setEquipmentList(response.data));\n      }\n    };\n    sortLtoH();\n  }\n\n  return (\n    <div>\n      <select id=\"yearSelect\" ref={yearSelect} onChange={getProducts}>\n        <option value=\"0\">All year </option>\n        <option value=\"1\">1st year</option>\n        <option value=\"2\">2nd year</option>\n        <option value=\"3\">3rd year</option>\n        <option value=\"4\">4th year</option>\n      </select>\n\n      <select id=\"catSelect\" ref={catSelect} onChange={getProducts}>\n        <option value=\"all\">All categories </option>\n        <option value=\"book\">Book </option>\n        <option value=\"gear\">Gear</option>\n        <option value=\"powder\">Powder</option>\n        <option value=\"uncategorised\">Uncategorised</option>\n      </select>\n\n      <button onClick={() => sortByPriceHL()} className=\"btn \" type=\"button\">\n        {\" \"}\n        Price High to Low{\" \"}\n      </button>\n      <button onClick={() => sortByPriceLH()} className=\"btn \" type=\"button\">\n        {\" \"}\n        Price Low to High{\" \"}\n      </button>\n\n      <EquipList />\n    </div>\n  );\n}\n\nexport default DiagonAlley;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}